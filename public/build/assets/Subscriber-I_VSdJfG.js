import{_ as v}from"./AuthenticatedLayout-C6RiqHJs.js";import{l as P,f as b,o as y,a as _,u as h,m as E,w as g,b as e,t as i,F as w,B as M,P as S,e as I}from"./app-CGxHhUos.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-CeJN6-td.js";var c={},f;function k(){if(f)return c;f=1,Object.defineProperty(c,"__esModule",{value:!0}),c.loadMercadoPago=void 0;const n="https://sdk.mercadopago.com/js/v2",l=/^https:\/\/sdk\.mercadopago\.com\/js\/v2\/?(\?.*)?$/,u="MercadoPago has already been initialized in your window, please remove the duplicate import",m="MercadoPago.js not available",p="Failed to load MercadoPago.js",d=()=>{for(var o=document.querySelectorAll(`script[src^="${n}"`),s=0;s<o.length;s++){var r=o[s];if(l.test(r.src))return r}return null},t=()=>{const o=document.createElement("script");o.src=n;const s=document.head||document.body;if(!s)throw new Error("Expected document.body or document.head not to be null. MercadoPago requires a <body> or a <head> element, please add on your project.");return s.appendChild(o),o};let a=null;const x=()=>(a!==null||(a=new Promise((o,s)=>{if(typeof window>"u"){o(null);return}if(window.MercadoPago){console.warn(u),o(window.MercadoPago);return}try{let r=d();r?console.warn(u):r||(r=t()),r.addEventListener("load",()=>{window.MercadoPago?o(window.MercadoPago):s(new Error(m))}),r.addEventListener("error",()=>{s(new Error(p))})}catch(r){s(r);return}})),a);return c.loadMercadoPago=x,c}var B=k();const L={class:"flex items-center justify-between"},D={class:"text-xl font-semibold leading-tight text-gray-800"},R={class:"py-12"},T={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},C={class:"overflow-hidden bg-white shadow-sm sm:rounded-lg mb-6"},G={class:"p-5 text-gray-900 flex justify-between"},O={class:"w-3xs bg-green-50 shadow-sm p-5 rounded-md"},N={class:"text-3xl"},j={class:"w-3xs bg-green-50 shadow-md p-5 rounded-md"},F={class:"text-2xl"},V={class:"w-3xs bg-green-50 shadow-md p-5 rounded-md"},q={class:"text-3xl"},K={class:"overflow-hidden bg-white shadow-sm sm:rounded-lg"},X={class:"p-5 text-gray-900"},W={class:"table-auto border border-gray-900 border-collapse",style:{width:"100%"}},$={class:"p-3 border border-gray-900 text-center"},z={class:"p-3 border border-gray-900 text-center"},U={__name:"Subscriber",props:{subscriber:{type:Array},invoces:{type:Array},user:{type:String},plan:{type:String},publicKey:{type:String}},setup(n){const l=n;console.log(l.user.email);const u=()=>{var d=document.getElementById("myModal");d.style.display="block"},m=()=>{var d=document.getElementById("myModal");d.style.display="none"},p=async()=>{await B.loadMercadoPago(),new window.MercadoPago(l.publicKey,{locale:"pt-BR"}).bricks().create("cardPayment","cardPayment_container",{initialization:{amount:100,payer:{identification:{type:"CPF",number:l.user.doc},email:l.user.email}},callbacks:{onReady:()=>{console.log("Wallet Brick está pronto!")},onError:a=>{console.error("Erro no Wallet Brick:",a)}}})};return P(()=>{p()}),(d,t)=>(y(),b(w,null,[_(h(E),{title:"Dashboard"}),_(v,null,{header:g(()=>[e("div",L,[e("h2",D," Assinante: "+i(n.user.name),1),_(h(S),{href:d.route("dash.assinantes"),class:"p-2 rounded-md bg-sky-500 hover:bg-sky-700 text-blue-50"},{default:g(()=>t[0]||(t[0]=[I(" Voltar ")])),_:1},8,["href"])])]),default:g(()=>[e("div",R,[e("div",T,[e("div",C,[e("div",G,[e("div",O,[e("span",N,"nº "+i(n.subscriber.id),1)]),e("div",j,[e("span",F,"Plano: "+i(n.plan),1)]),e("div",V,[e("span",q,"Status: "+i(n.subscriber.status),1)])])]),e("div",K,[e("div",X,[t[3]||(t[3]=e("h2",{class:"p-2 text-2xl font-semibold"},"Lista dos Assinantes",-1)),e("table",W,[t[2]||(t[2]=e("thead",null,[e("tr",null,[e("th",null,"Id"),e("th",null,"Plano"),e("th",null,"Status"),e("th")])],-1)),e("tbody",null,[(y(!0),b(w,null,M(l.invoces,a=>(y(),b("tr",null,[e("td",$,i(a.id),1),t[1]||(t[1]=e("td",{class:"p-3 border border-gray-900"},"Testando o som",-1)),e("td",z,i(a.status),1),e("td",{class:"p-3 border border-gray-900 text-center"},[e("button",{id:"openModal",onClick:u},"Pagar")])]))),256))])])])])])]),e("div",{id:"myModal",class:"modal"},[e("div",{class:"modal-content"},[e("span",{class:"close",onClick:m},"×"),t[4]||(t[4]=e("div",{id:"cardPayment_container"},null,-1))])])]),_:1})],64))}},Y=A(U,[["__scopeId","data-v-003025ee"]]);export{Y as default};
